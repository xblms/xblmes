@page
@{ Layout = "_Layout"; }

@section Styles{
    <style>
        .el-descriptions-item__label.is-bordered-label {
            width: 180px;
        }
    </style>
}

<el-card>
        <el-row :gutter="0">
            <el-col :span="5" style="text-align:center;">
                <el-avatar :size="128" :src="admin.avatarUrl || DEFAULT_AVATAR_URL"></el-avatar>
                <div>
                    <el-dropdown v-on:command="btnUserMenuClick" :show-timeout="0" placement="bottom">
                        <div class="el-dropdown-link">
                            <div style="padding:10px 0;">欢迎回来</div>
                            <span><i class="el-icon-user" style="padding:0 3px"></i>{{ admin.displayName }}<i style="padding:0 3px" class="el-icon-arrow-down el-icon--down"></i></span>
                        </div>
                        <el-dropdown-menu slot="dropdown">
                            <el-dropdown-item icon="el-icon-user" command="view">预览信息</el-dropdown-item>
                            <el-dropdown-item icon="el-icon-edit" command="profile">修改信息</el-dropdown-item>
                            <el-dropdown-item icon="el-icon-key" command="password">修改密码</el-dropdown-item>
                            <el-dropdown-item icon="el-icon-switch-button" command="logout">安全退出</el-dropdown-item>
                        </el-dropdown-menu>
                    </el-dropdown>
                </div>
            </el-col>
            <el-col :span="19">
                <el-scrollbar class="scrollbar" :style="{ height: ($(window).height()-65) + 'px' }">
                    <el-descriptions title="" border column="1" style="margin-right:10px;">
                        <el-descriptions-item label="账 号">{{ admin.userName }}</el-descriptions-item>
                        <el-descriptions-item label="姓 名">{{ admin.displayName }}</el-descriptions-item>
                        <el-descriptions-item label="组 织">{{ admin.organNames }}</el-descriptions-item>
                        <el-descriptions-item label="权 限">{{ admin.authName }}</el-descriptions-item>
                        <el-descriptions-item label="角 色">
                        <el-tag v-for="roleName in admin.roleNames" style="margin:0 5px 5px 0;">{{ roleName }}</el-tag>
                        </el-descriptions-item>
                        <el-descriptions-item label="手 机">{{ admin.mobile }}</el-descriptions-item>
                        <el-descriptions-item label="邮 箱">{{ admin.email }}</el-descriptions-item>
                        <el-descriptions-item label="上次登录时间">{{ admin.lastActivityDate }}</el-descriptions-item>
                        <el-descriptions-item label="登录次数">{{ admin.countOfLogin }}</el-descriptions-item>
                    </el-descriptions>
                </el-scrollbar>
            </el-col>
        </el-row>
</el-card>

@section Scripts{
    <script src="/sitefiles/assets/js/admin/dashboard.js" type="text/javascript"></script>
}